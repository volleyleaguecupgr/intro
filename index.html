<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Volleyball Match Intro - Control Panel</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 16px;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .form-section {
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 24px;
            color: #1e3a8a;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #3b82f6;
        }

        .team-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .team-column {
            background: #f8fafc;
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #e2e8f0;
        }

        .team-column h3 {
            color: #334155;
            margin-bottom: 20px;
            font-size: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #334155;
            font-weight: 600;
            font-size: 14px;
        }

        .form-group input[type="text"],
        .form-group input[type="date"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .form-group input[type="text"]:focus,
        .form-group input[type="date"]:focus {
            outline: none;
            border-color: #3b82f6;
        }

        .form-group input[type="color"] {
            width: 100%;
            height: 50px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            cursor: pointer;
        }

        .color-preview {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 8px;
        }

        .color-box {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            border: 2px solid #e2e8f0;
        }

        .file-input-wrapper {
            position: relative;
            overflow: hidden;
            display: inline-block;
            width: 100%;
        }

        .file-input-wrapper input[type="file"] {
            position: absolute;
            left: -9999px;
        }

        .file-input-label {
            display: block;
            padding: 12px;
            background: #3b82f6;
            color: white;
            text-align: center;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .file-input-label:hover {
            background: #2563eb;
        }

        .file-name {
            margin-top: 8px;
            font-size: 12px;
            color: #64748b;
        }

        .logo-preview {
            margin-top: 10px;
            text-align: center;
        }

        .logo-preview img {
            max-width: 100px;
            max-height: 100px;
            border-radius: 8px;
            border: 2px solid #e2e8f0;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .btn {
            flex: 1;
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(59, 130, 246, 0.3);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(16, 185, 129, 0.3);
        }

        .generated-links {
            background: #f1f5f9;
            padding: 25px;
            border-radius: 15px;
            margin-top: 30px;
            display: none;
        }

        .generated-links h3 {
            color: #1e3a8a;
            margin-bottom: 15px;
        }

        .link-box {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 2px solid #e2e8f0;
        }

        .link-url {
            font-family: 'Courier New', monospace;
            color: #3b82f6;
            word-break: break-all;
            flex: 1;
        }

        .copy-btn {
            padding: 8px 16px;
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            margin-left: 10px;
            white-space: nowrap;
        }

        .copy-btn:hover {
            background: #2563eb;
        }

        .saved-matches {
            margin-top: 40px;
        }

        .match-item {
            background: #f8fafc;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            border: 2px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .match-info-display {
            flex: 1;
        }

        .match-info-display h4 {
            color: #1e3a8a;
            margin-bottom: 5px;
        }

        .match-actions {
            display: flex;
            gap: 10px;
        }

        .match-actions button {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }

        .btn-load {
            background: #10b981;
            color: white;
        }

        .btn-delete {
            background: #ef4444;
            color: white;
        }

        @media (max-width: 768px) {
            .team-columns {
                grid-template-columns: 1fr;
            }

            .button-group {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèê Volleyball Match Intro Generator</h1>
            <p>ŒîŒ∑ŒºŒπŒøœÖœÅŒ≥ŒÆœÉœÑŒµ ŒµŒΩœÑœÖœÄœâœÉŒπŒ±Œ∫Œ¨ intros Œ≥ŒπŒ± Œ±Œ≥œéŒΩŒµœÇ Œ≤œåŒªŒµœä</p>
        </div>

        <div class="content">
            <form id="matchForm">
                <!-- Team Information -->
                <div class="form-section">
                    <h2 class="section-title">ŒüŒºŒ¨Œ¥ŒµœÇ</h2>
                    <div class="team-columns">
                        <!-- Home Team -->
                        <div class="team-column">
                            <h3>üè† ŒìŒ∑œÄŒµŒ¥ŒøœçœáŒøœÇ</h3>
                            <div class="form-group">
                                <label>ŒåŒΩŒøŒºŒ± ŒüŒºŒ¨Œ¥Œ±œÇ *</label>
                                <input type="text" id="homeTeamName" required placeholder="œÄ.œá. Œ†Œ±ŒΩŒ±Œ∏Œ∑ŒΩŒ±œäŒ∫œåœÇ">
                            </div>
                            <div class="form-group">
                                <label>Œ•œÄœåœÑŒπœÑŒªŒøœÇ</label>
                                <input type="text" id="homeTeamSubtitle" placeholder="œÄ.œá. Œë.Œü.">
                            </div>
                            <div class="form-group">
                                <label>ŒßœÅœéŒºŒ± ŒüŒºŒ¨Œ¥Œ±œÇ *</label>
                                <input type="color" id="homeTeamColor" value="#16a34a">
                                <div class="color-preview">
                                    <div class="color-box" id="homeColorBox" style="background: #16a34a;"></div>
                                    <span id="homeColorValue">#16a34a</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Logo ŒüŒºŒ¨Œ¥Œ±œÇ</label>
                                <div class="file-input-wrapper">
                                    <input type="file" id="homeTeamLogo" accept="image/*">
                                    <label for="homeTeamLogo" class="file-input-label">ŒïœÄŒπŒªŒøŒ≥ŒÆ ŒëœÅœáŒµŒØŒøœÖ</label>
                                </div>
                                <div class="file-name" id="homeLogoName">ŒîŒµŒΩ Œ≠œáŒµŒπ ŒµœÄŒπŒªŒµŒ≥ŒµŒØ Œ±œÅœáŒµŒØŒø</div>
                                <div class="logo-preview" id="homeLogoPreview"></div>
                            </div>
                        </div>

                        <!-- Away Team -->
                        <div class="team-column">
                            <h3>‚úàÔ∏è Œ¶ŒπŒªŒøŒæŒµŒΩŒøœçŒºŒµŒΩŒøœÇ</h3>
                            <div class="form-group">
                                <label>ŒåŒΩŒøŒºŒ± ŒüŒºŒ¨Œ¥Œ±œÇ *</label>
                                <input type="text" id="awayTeamName" required placeholder="œÄ.œá. ŒüŒªœÖŒºœÄŒπŒ±Œ∫œåœÇ">
                            </div>
                            <div class="form-group">
                                <label>Œ•œÄœåœÑŒπœÑŒªŒøœÇ</label>
                                <input type="text" id="awayTeamSubtitle" placeholder="œÄ.œá. Œ£.Œ¶.Œ† Œ†ŒïŒôŒ°ŒëŒôŒüŒ£">
                            </div>
                            <div class="form-group">
                                <label>ŒßœÅœéŒºŒ± ŒüŒºŒ¨Œ¥Œ±œÇ *</label>
                                <input type="color" id="awayTeamColor" value="#dc1414">
                                <div class="color-preview">
                                    <div class="color-box" id="awayColorBox" style="background: #dc1414;"></div>
                                    <span id="awayColorValue">#dc1414</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Logo ŒüŒºŒ¨Œ¥Œ±œÇ</label>
                                <div class="file-input-wrapper">
                                    <input type="file" id="awayTeamLogo" accept="image/*">
                                    <label for="awayTeamLogo" class="file-input-label">ŒïœÄŒπŒªŒøŒ≥ŒÆ ŒëœÅœáŒµŒØŒøœÖ</label>
                                </div>
                                <div class="file-name" id="awayLogoName">ŒîŒµŒΩ Œ≠œáŒµŒπ ŒµœÄŒπŒªŒµŒ≥ŒµŒØ Œ±œÅœáŒµŒØŒø</div>
                                <div class="logo-preview" id="awayLogoPreview"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Match Information -->
                <div class="form-section">
                    <h2 class="section-title">Œ£œÑŒøŒπœáŒµŒØŒ± ŒëŒ≥œéŒΩŒ±</h2>
                    <div class="form-group">
                        <label>ŒóŒºŒµœÅŒøŒºŒ∑ŒΩŒØŒ± ŒëŒ≥œéŒΩŒ± *</label>
                        <input type="date" id="matchDate" required>
                    </div>
                    <div class="form-group">
                        <label>Œ†œÅœâœÑŒ¨Œ∏ŒªŒ∑ŒºŒ± / ŒîŒπŒøœÅŒ≥Œ¨ŒΩœâœÉŒ∑ *</label>
                        <input type="text" id="matchLeague" required placeholder="œÄ.œá. 1Œó ŒëŒìŒ©ŒùŒôŒ£Œ§ŒôŒöŒó">
                    </div>
                </div>

                <!-- Buttons -->
                <div class="button-group">
                    <button type="submit" class="btn btn-primary">ŒîŒ∑ŒºŒπŒøœÖœÅŒ≥ŒØŒ± & ŒëœÄŒøŒ∏ŒÆŒ∫ŒµœÖœÉŒ∑</button>
                    <button type="button" class="btn btn-secondary" id="previewBtn">Œ†œÅŒøŒµœÄŒπœÉŒ∫œåœÄŒ∑œÉŒ∑</button>
                    <button type="button" class="btn" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); color: white;" id="downloadBtn">ŒõŒÆœàŒ∑ ŒëœÅœáŒµŒØœâŒΩ GitHub</button>
                </div>
            </form>

            <!-- Generated Links -->
            <div class="generated-links" id="generatedLinks">
                <h3>üîó ŒîŒ∑ŒºŒπŒøœÖœÅŒ≥ŒÆŒ∏Œ∑Œ∫Œ±ŒΩ Links</h3>
                <div class="link-box">
                    <div class="link-url" id="generatedUrl"></div>
                    <button class="copy-btn" onclick="copyLink()">ŒëŒΩœÑŒπŒ≥œÅŒ±œÜŒÆ</button>
                </div>
            </div>

            <!-- Saved Matches -->
            <div class="saved-matches">
                <h2 class="section-title">ŒëœÄŒøŒ∏Œ∑Œ∫ŒµœÖŒºŒ≠ŒΩŒøŒπ ŒëŒ≥œéŒΩŒµœÇ</h2>
                <div id="savedMatchesList"></div>
            </div>
        </div>
    </div>

    <script>
        const matches = {};

        // Color picker handlers
        document.getElementById('homeTeamColor').addEventListener('input', function(e) {
            document.getElementById('homeColorBox').style.background = e.target.value;
            document.getElementById('homeColorValue').textContent = e.target.value;
        });

        document.getElementById('awayTeamColor').addEventListener('input', function(e) {
            document.getElementById('awayColorBox').style.background = e.target.value;
            document.getElementById('awayColorValue').textContent = e.target.value;
        });

        // Logo preview handlers
        document.getElementById('homeTeamLogo').addEventListener('change', function(e) {
            handleLogoUpload(e, 'home');
        });

        document.getElementById('awayTeamLogo').addEventListener('change', function(e) {
            handleLogoUpload(e, 'away');
        });

        function handleLogoUpload(event, team) {
            const file = event.target.files[0];
            if (file) {
                const fileName = file.name;
                document.getElementById(team + 'LogoName').textContent = fileName;

                const reader = new FileReader();
                reader.onload = function(e) {
                    const preview = document.getElementById(team + 'LogoPreview');
                    preview.innerHTML = `<img src="${e.target.result}" alt="${team} logo">`;
                };
                reader.readAsDataURL(file);
            }
        }

        // Form submission
        document.getElementById('matchForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const matchData = collectFormData();
            const slug = generateSlug(matchData.homeTeam.name);
            
            matches[slug] = matchData;
            saveToLocalStorage();
            
            displayGeneratedLink(slug);
            displaySavedMatches();
            
            alert('Œü Œ±Œ≥œéŒΩŒ±œÇ Œ±œÄŒøŒ∏Œ∑Œ∫ŒµœçœÑŒ∑Œ∫Œµ ŒµœÄŒπœÑœÖœáœéœÇ!');
        });

        // Preview button
        document.getElementById('previewBtn').addEventListener('click', function() {
            const matchData = collectFormData();
            const params = createURLParams(matchData);
            window.open('intro.html?' + params, '_blank');
        });

        function collectFormData() {
            const homeLogoFile = document.getElementById('homeTeamLogo').files[0];
            const awayLogoFile = document.getElementById('awayTeamLogo').files[0];
            
            const matchDate = new Date(document.getElementById('matchDate').value);
            const formattedDate = formatGreekDate(matchDate);

            return {
                homeTeam: {
                    name: document.getElementById('homeTeamName').value,
                    subtitle: document.getElementById('homeTeamSubtitle').value,
                    color: document.getElementById('homeTeamColor').value,
                    logo: homeLogoFile ? URL.createObjectURL(homeLogoFile) : 'panathinaikos.png'
                },
                awayTeam: {
                    name: document.getElementById('awayTeamName').value,
                    subtitle: document.getElementById('awayTeamSubtitle').value,
                    color: document.getElementById('awayTeamColor').value,
                    logo: awayLogoFile ? URL.createObjectURL(awayLogoFile) : 'olympiakos.png'
                },
                date: formattedDate,
                league: document.getElementById('matchLeague').value
            };
        }

        function formatGreekDate(date) {
            const months = ['ŒôŒ±ŒΩŒøœÖŒ±œÅŒØŒøœÖ', 'Œ¶ŒµŒ≤œÅŒøœÖŒ±œÅŒØŒøœÖ', 'ŒúŒ±œÅœÑŒØŒøœÖ', 'ŒëœÄœÅŒπŒªŒØŒøœÖ', 'ŒúŒ±ŒêŒøœÖ', 'ŒôŒøœÖŒΩŒØŒøœÖ',
                          'ŒôŒøœÖŒªŒØŒøœÖ', 'ŒëœÖŒ≥ŒøœçœÉœÑŒøœÖ', 'Œ£ŒµœÄœÑŒµŒºŒ≤œÅŒØŒøœÖ', 'ŒüŒ∫œÑœâŒ≤œÅŒØŒøœÖ', 'ŒùŒøŒµŒºŒ≤œÅŒØŒøœÖ', 'ŒîŒµŒ∫ŒµŒºŒ≤œÅŒØŒøœÖ'];
            return `${date.getDate()} ${months[date.getMonth()]} ${date.getFullYear()}`;
        }

        function generateSlug(teamName) {
            return teamName.toLowerCase()
                .normalize('NFD')
                .replace(/[\u0300-\u036f]/g, '')
                .replace(/[^a-z0-9]+/g, '-')
                .replace(/^-+|-+$/g, '');
        }

        function createURLParams(matchData) {
            const params = new URLSearchParams({
                homeName: matchData.homeTeam.name,
                homeSubtitle: matchData.homeTeam.subtitle,
                homeColor: matchData.homeTeam.color,
                homeLogo: matchData.homeTeam.logo,
                awayName: matchData.awayTeam.name,
                awaySubtitle: matchData.awayTeam.subtitle,
                awayColor: matchData.awayTeam.color,
                awayLogo: matchData.awayTeam.logo,
                date: matchData.date,
                league: matchData.league
            });
            return params.toString();
        }

        function displayGeneratedLink(slug) {
            const baseURL = window.location.origin + window.location.pathname.replace('control.html', '');
            const fullURL = `${baseURL}${slug}`;
            
            document.getElementById('generatedUrl').textContent = fullURL;
            document.getElementById('generatedLinks').style.display = 'block';
        }

        function copyLink() {
            const linkText = document.getElementById('generatedUrl').textContent;
            navigator.clipboard.writeText(linkText).then(() => {
                alert('Œ§Œø link Œ±ŒΩœÑŒπŒ≥œÅŒ¨œÜŒ∑Œ∫Œµ œÉœÑŒø clipboard!');
            });
        }

        function saveToLocalStorage() {
            localStorage.setItem('volleyballMatches', JSON.stringify(matches));
        }

        function loadFromLocalStorage() {
            const saved = localStorage.getItem('volleyballMatches');
            if (saved) {
                Object.assign(matches, JSON.parse(saved));
                displaySavedMatches();
            }
        }

        function displaySavedMatches() {
            const container = document.getElementById('savedMatchesList');
            container.innerHTML = '';

            if (Object.keys(matches).length === 0) {
                container.innerHTML = '<p style="color: #64748b; text-align: center;">ŒîŒµŒΩ œÖœÄŒ¨œÅœáŒøœÖŒΩ Œ±œÄŒøŒ∏Œ∑Œ∫ŒµœÖŒºŒ≠ŒΩŒøŒπ Œ±Œ≥œéŒΩŒµœÇ</p>';
                return;
            }

            for (const [slug, match] of Object.entries(matches)) {
                const matchEl = document.createElement('div');
                matchEl.className = 'match-item';
                matchEl.innerHTML = `
                    <div class="match-info-display">
                        <h4>${match.homeTeam.name} vs ${match.awayTeam.name}</h4>
                        <p style="color: #64748b; font-size: 14px;">${match.date} - ${match.league}</p>
                        <p style="color: #3b82f6; font-size: 12px; font-family: monospace;">/${slug}</p>
                    </div>
                    <div class="match-actions">
                        <button class="btn-load" onclick="loadMatch('${slug}')">Œ¶œåœÅœÑœâœÉŒ∑</button>
                        <button class="btn-delete" onclick="deleteMatch('${slug}')">ŒîŒπŒ±Œ≥œÅŒ±œÜŒÆ</button>
                    </div>
                `;
                container.appendChild(matchEl);
            }
        }

        function loadMatch(slug) {
            const match = matches[slug];
            if (!match) return;

            document.getElementById('homeTeamName').value = match.homeTeam.name;
            document.getElementById('homeTeamSubtitle').value = match.homeTeam.subtitle;
            document.getElementById('homeTeamColor').value = match.homeTeam.color;
            document.getElementById('awayTeamName').value = match.awayTeam.name;
            document.getElementById('awayTeamSubtitle').value = match.awayTeam.subtitle;
            document.getElementById('awayTeamColor').value = match.awayTeam.color;
            document.getElementById('matchLeague').value = match.league;

            document.getElementById('homeColorBox').style.background = match.homeTeam.color;
            document.getElementById('homeColorValue').textContent = match.homeTeam.color;
            document.getElementById('awayColorBox').style.background = match.awayTeam.color;
            document.getElementById('awayColorValue').textContent = match.awayTeam.color;

            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function deleteMatch(slug) {
            if (confirm('ŒïŒØœÉœÑŒµ œÉŒØŒ≥ŒøœÖœÅŒøŒπ œåœÑŒπ Œ∏Œ≠ŒªŒµœÑŒµ ŒΩŒ± Œ¥ŒπŒ±Œ≥œÅŒ¨œàŒµœÑŒµ Œ±œÖœÑœåŒΩ œÑŒøŒΩ Œ±Œ≥œéŒΩŒ±;')) {
                delete matches[slug];
                saveToLocalStorage();
                displaySavedMatches();
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            loadFromLocalStorage();
            
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('matchDate').value = today;
        });
    </script>
</body>
</html>